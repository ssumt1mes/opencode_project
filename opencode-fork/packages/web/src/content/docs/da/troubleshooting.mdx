---
title: Feilsøking
description: Vanlige problemer og hvordan de kan løses.
---

For at feilsøke problemer med OpenCode, start med at tjeke loggene og lokale data den lagrer på disken.

---

## Logger

Loggfiler skrives til:

- **macOS/Linux**: `~/.local/share/opencode/log/`
- **Windows**: Trykk `WIN+R` og lim inn `%USERPROFILE%\.local\share\opencode\log`

Loggfiler navngis med tidsstempler (f.eks. `2025-01-09T123456.log`) og de siste 10 loggfilene beholdes.

Du kan angi loggnivået med kommandolinjealternativet `--log-level` for at få mer detaljert feilsøkingsinformasjon. For eksempel `opencode --log-level DEBUG`.

---

## Lagring

opencode lagrer sessiondata og andre applikasjonsdata på disken på:

- **macOS/Linux**: `~/.local/share/opencode/`
- **Windows**: Trykk `WIN+R` og lim inn `%USERPROFILE%\.local\share\opencode`

Denne katalogen inneholder:

- `auth.json` - Autentiseringsdata som API-nøkler, OAuth-tokens
- `log/` - Applikasjonslogger
- `project/` - Prosjektspesifikke data som session- og meldingsdata
  - Hvis prosjektet er innenfor en Git-repo, lagres det i `./<project-slug>/storage/`
  - Hvis det ikke er en Git-repo, lagres det i `./global/storage/`

---

## Desktop-app

OpenCode Desktop kjører en lokal OpenCode-server (`opencode-cli` sidevognen) i bakgrunnen. De fleste problemene er forårsaket av en plugin som fungerer dårlig, en ødelagt cache eller en dårlig serverinnstilling.

### Raske tjeker

- Avslutt og start appen på nytt.
- Hvis appen viser en feilskjerm, klikker du på **Start på nytt** og kopierer feildetaljene.
- Bare macOS: `OpenCode`-meny -> **Last nettvisning på nytt** (hjelper hvis UI er tom/frosset).

---

### Deaktiver plugins

Hvis skrivebordsappen krasjer ved oppstart, henger eller oppfører seg merkelig, start med at deaktivere plugins.

#### Tjek den globale konfigurasjonen

Åpne den globale konfigurasjonsfilen og se etter en `plugin`-nøkkel.

- **macOS/Linux**: `~/.config/opencode/opencode.jsonc` (eller `~/.config/opencode/opencode.json`)
- **macOS/Linux** (eldre installasjoner): `~/.local/share/opencode/opencode.jsonc`
- **Windows**: Trykk `WIN+R` og lim inn `%USERPROFILE%\.config\opencode\opencode.jsonc`

Hvis du har konfigurert plugins, deaktiver dem midlertidig ved at fjerne nøkkelen eller sette den til en tom matrise:

```jsonc
{
  "$schema": "https://opencode.ai/config.json",
  "plugin": [],
}
```

#### Tjek plugin-kataloger

OpenCode kan også laste lokale plugins fra disken. Flytt disse midlertidig ut av veien (eller gi nytt navn til mappen) og start skrivebordsappen på nytt:

- **Globale plugins**
  - **macOS/Linux**: `~/.config/opencode/plugins/`
  - **Windows**: Trykk `WIN+R` og lim inn `%USERPROFILE%\.config\opencode\plugins`
- **Prosjektplugins** (bare hvis du bruger konfigurasjon per prosjekt)
  - `<your-project>/.opencode/plugins/`

Hvis appen begynner at fungere igjen, aktiverer du plugins én om gangen for at finne ut hvilken som forårsaker problemet.

---

### Tøm hurtigbufferen

Hvis deaktivering av plugins ikke hjelper (eller en plugin-installasjon sitter fast), tøm hurtigbufferen slik at OpenCode kan gjenoppbygge den.

1. Avslutt OpenCode Desktop helt.
2. Slett hurtigbufferkatalogen:

- **macOS**: Finder -> `Cmd+Shift+G` -> lim inn `~/.cache/opencode`
- **Linux**: slett `~/.cache/opencode` (eller kjør `rm -rf ~/.cache/opencode`)
- **Windows**: Trykk `WIN+R` og lim inn `%USERPROFILE%\.cache\opencode`

3. Start OpenCode Desktop på nytt.

---

### Løs problemer med servertilkobling

OpenCode Desktop kan enten starte sin egen lokale server (standard) eller koble til en server URL du har konfigurert.

Hvis du ser en **"Tilkobling mislyktes"**-dialogboks (eller appen kommer aldri forbi splash-skjermen), se etter en brugerdefineret server URL.

#### Slett standardserveren for skrivebordet URL

Fra startskjermen klikker du på servernavnet (med statusprikken) for at åpne servervelgeren. I delen **Standardserver** klikker du på **Slett**.

#### Fjern `server.port` / `server.hostname` fra konfigurasjonen din

Hvis `opencode.json(c)` inneholder en `server`-del, fjern den midlertidig og start skrivebordsappen på nytt.

#### Tjek miljøvariabler

Hvis du har `OPENCODE_PORT` satt i miljøet ditt, vil skrivebordsappen prøve at bruge den porten for den lokale serveren.

- Deaktiver `OPENCODE_PORT` (eller velg en ledig port) og start på nytt.

---

### Linux: Wayland / X11 problemer

På Linux kan nogle Wayland-oppsett forårsake tomme vinduer eller kompositorfeil.

- Hvis du er på Wayland og appen er tom/krasj, prøv at starte med `OC_ALLOW_WAYLAND=1`.
- Hvis det gør ting verre, fjern det og prøv at starte under en X11-session i stedet.

---

### Windows: WebView2 kjøretid

På Windows krever OpenCode Desktop Microsoft Edge **WebView2 Runtime**. Hvis appen åpnes i et tomt vindu eller ikke starter, installer/opdater WebView2 og prøv igjen.

---

### Windows: Generelle ytelsesproblemer

Hvis du opplever treg ytelse, problemer med filtilgang eller terminalproblemer på Windows, kan du prøve at bruge [WSL (Windows Subsystem for Linux)](/docs/windows-wsl). WSL gir et Linux-miljø som fungerer mer sømløst med funksjonene til OpenCode.

---

### Varsler vises ikke

OpenCode Desktop viser bare systemvarsler når:

- varsler er aktivert for OpenCode i OS-innstillingene dine, og
- appvinduet er ikke fokusert.

---

### Tilbakestill skrivebordsapplagring (siste utvei)

Hvis appen ikke starter og du ikke kan slette innstillingene fra UI, nulstil skrivebordsappens lagrede tilstand.

1. Avslutt OpenCode Desktop.
2. Finn og slett disse filene (de finnes i OpenCode Desktop-appens datakatalog):

- `opencode.settings.dat` (stasjonær standardserver URL)
- `opencode.global.dat` og `opencode.workspace.*.dat` (UI tilstand som nylige servere/prosjekter)

Slik finner du katalogen raskt:

- **macOS**: Finder -> `Cmd+Shift+G` -> `~/Library/Application Support` (søk deretter etter filnavnene ovenfor)
- **Linux**: søk under `~/.local/share` etter filnavnene ovenfor
- **Windows**: Trykk `WIN+R` -> `%APPDATA%` (søk deretter etter filnavnene ovenfor)

---

## Får hjelp

Hvis du opplever problemer med OpenCode:

1. **Rapporter problemer på GitHub**

   Den beste måten at rapportere feil eller be om funksjoner på er gjennom vårt GitHub-lager:

   [**github.com/anomalyco/opencode/issues**](https://github.com/anomalyco/opencode/issues)

   Før du opreter et nytt problem, søk i eksisterende problemer for at se om problemet ditt allerede er rapportert.

2. **Bli med i vår Discord**

   For sanntidshjelp og fellesskapsdiskusjon, bli med i vår Discord-server:

   [**opencode.ai/discord**](https://opencode.ai/discord)

---

## Vanlige problemer

Her er nogle vanlige problemer og hvordan du kan løse dem.

---

### OpenCode vil ikke starte

1. Tjek loggene for feilmeldinger
2. Prøv at kjøre med `--print-logs` for at se utdata i terminalen
3. Sørg for at du har den nyeste versjonen med `opencode upgrade`

---

### Autentiseringsproblemer

1. Prøv at autentisere på nytt med kommandoen `/connect` i TUI
2. Tjek at API-nøklene dine er gyldige
3. Sørg for at nettverket ditt tillater tilkoblinger til leverandørens API

---

### Modellen er ikke tilgængelig

1. Tjek at du har autentisert deg med leverandøren
2. Kontroller at modellnavnet i konfigurasjonen er riktig
3. Nogle modeller kan kreve spesifikk tilgang eller abonnement

Hvis du støter på `ProviderModelNotFoundError` er du mest sannsynlig feil
refererer til en modell et sted.
Modeller skal refereres slik: `<providerId>/<modelId>`

Eksempler:

- `openai/gpt-4.1`
- `openrouter/google/gemini-2.5-flash`
- `opencode/kimi-k2`

For at finne ut hvilke modeller du har tilgang til, kjør `opencode models`

---

### ProviderInitError

Hvis du støter på en ProviderInitError, har du sannsynligvis en ugyldig eller ødelagt konfigurasjon.

For at løse dette:

1. Kontroller først at leverandøren din er riktig konfigurert ved at følge [leverandørveiledningen](/docs/providers)
2. Hvis problemet vedvarer, prøv at tømme den lagrede konfigurasjonen:

   ```bash
   rm -rf ~/.local/share/opencode
   ```

   På Windows, trykk `WIN+R` og slett: `%USERPROFILE%\.local\share\opencode`

3. Autentiser på nytt med leverandøren din ved at bruge kommandoen `/connect` i TUI.

---

### AI_APICallError og leverandørpakkeproblemer

Hvis du støter på API anropsfeil, kan dette skyldes utdaterte leverandørpakker. opencode installerer dynamisk leverandørpakker (OpenAI, Anthropic, Google, etc.) etter behov og cacher dem lokalt.

For at løse problemer med leverandørpakke:

1. Tøm leverandørens pakkebuffer:

   ```bash
   rm -rf ~/.cache/opencode
   ```

   På Windows, trykk `WIN+R` og slett: `%USERPROFILE%\.cache\opencode`

2. Start opencode på nytt for at installere de nyeste leverandørpakkene på nytt

Dette vil tvinge opencode til at laste ned de nyeste versjonene av leverandørpakkene, som ofte løser kompatibilitetsproblemer med modellparametere og API endringer.

---

### Kopier/lim inn fungerer ikke på Linux

Linux-brugere må ha ett av følgende utklippstavleverktøy installert for at kopier/lim inn-funksjonalitet skal fungere:

**For X11-systemer:**

```bash
apt install -y xclip
# or
apt install -y xsel
```

**For Wayland-systemer:**

```bash
apt install -y wl-clipboard
```

**For hodeløse miljøer:**

```bash
apt install -y xvfb
# and run:
Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &
export DISPLAY=:99.0
```

opencode vil oppdage om du bruger Wayland og foretrekker `wl-clipboard`, ellers vil den prøve at finne utklippstavleverktøy i rekkefølgen: `xclip` og `xsel`.
